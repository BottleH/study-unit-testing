# 4. 좋은 단위 테스트의 4대 요소
--
### 회귀 방지 (= 버그 방지)
> 회귀
> * 소프트웨어 버그 </br>
> * 코드를 수정한 후 기능이 의도한 대로 작동하지 않는 경우 </br>
* 회귀의 최악의 단점</br>
  -> 개발할 기능이 많을수록, 새로운 릴리스에서 기능이 하나라도 고장 날 가능성이 높다는 점</br>
* 회귀 방지 지표 고려사항
  * 테스트 중에 실행되는 코드의 양
    * 테스트에서 실행되는 코드가 많을 수록 테스트에서 버그가 노출될 확률이 높다.
  * 코드 복잡도
    * 복잡한 비즈니스 로직을 나타내는 코드가 보일러플레이트 코드보다 중요성이 높다
      > 보일러 플레이트 코드 = 변화없이 여러 군데에서 반복되는 코드
  * 코드의 도메인 유사성  

### 리팩터링 내성
> 테스트를 '빨간색(=실패)'으로 바꾸지 않고 기본 애플리케이션 코드를 리팩터링할 수 있는지에 대한 척도
* 리팩터링 내성 지표 고려사항
  * False positive(= 허위경보) 발생 비율
    * false positive (= 허위경보) 발생율이 낮을 수록 좋다
      > false positive 발생의 단점</br>
      > * false positive가 빈번하면 test suit에 대한 신뢰가 서서히 떨어짐
      > * 신뢰가 부족해지면 리팩터링 시도가 줄어든다.
    * false positive의 원인
      * 테스트와 SUT의 구현 세부 사항이 많이 결합할 수록 허위 경보가 더 많이 생성
      * 테스트를 통해 SUT가 제공하는 최종 결과를 검증하는지 확인필요
      * 테스트는 최종 사용자의 관점에서 SUT를 검증 (= 최종 사용자에게 의미 있느 결과만 확인해야함)
  * 테스트와 SUT구현 세부사항의 결합도
    * 구현 세부사항의 결합도가 낮을 수록 좋다.  

> [회귀 방지]와 [리팩터링 내성] 간의 본질적인 관계</br>
  > 공통점 : 테스트 스위트의 정확도에 기여 </br>
  > 차이점 : 
  > 1. 시간이 흐르면서 프로젝트에 미치는 영향(중요성)</br>
    > 초반 [회귀 방지] > [리팩터링 내성]
    > 후반 [회귀 방지] < [리팩터링 내성]
  > 2. 테스트 정확도 극대화
  > ![테스트 정확도 극대화](https://velog.velcdn.com/images%2Fmabr2845%2Fpost%2Fc97d351b-7023-4124-8c9d-f3aad3ff78d1%2Fimage.png)</br>
  > [회귀 방지] :: 거짓음성(2종 오류)를 보호</br>
  > [리팩터링 내성] :: 거짓 양성(1종 오류)를 보호</br>

### 빠른 피드백

### 유지 보수성
