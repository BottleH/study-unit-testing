> 작성자 : 유현선

# 1장_단위 테스트의 목표

## 1.1 단위 테스트 현황
- 좋은 테스트와 좋지 않은 테스트의 차이는 취향이나 개인적인 선호도의 문제가 아니라 현재 작업중인 중대한 프로젝트의 성패를 가르는 문제다.

## 1.2 단위 테스트의 목표
- 지속성과 확장성을 보장 / 장기적으로 개발 속도를 유지 
- 테스트로 소프트웨어 엔트로피를 방지할 수 있다.
  - 소프트웨어 엔트로피(무질서도)
    - 테스트 부재 -> 개발 속도가 빠르게 감소 
    - 코드베이스에서 무언가를 변경할 때마다 증가 
- 새로운 기능을 도입하거나 새로운 요구 사항에 더 잘 맞게 리팩토링한 후에도 기존 기능이 잘 작동하는지 확인하는 데 도움이 됨

### 1.2.1 좋은 테스트와 좋지 않은 테스트를 가르는 요인 
[ 테스트 비용 요소 ]
- 기반 코드를 리팩토링할 때 테스트도 리팩토링
- 각 코드 변경 시 테스트를 실행
- 테스트가 잘못된 경고를 발생시킬 경우 처리
- 기반 코드가 어떻게 동작하는지 이해하려고 할 때는 테스트를 읽는 데 시간을 투자

지속 가능한 프로젝트 성장을 위해서는 고품질 테스트에만 집중해야 한다.

## 1.3 테스트 스위트 품질 측정을 위한 커버리지 지표 
일반적으로 커버리지 숫자가 높을수록 좋겠지만, 그것이 테스트 스위트 품질을 효과적으로 측정하는 데 사용될 수는 없다.
- 괜찮은 부정 지표 & 좋지 않은 긍정 지표 

**코드 커버리지(테스트 커버리지)** = 실행 코드 라인 수 / 전체 라인 수

**분기 커버리지** = 통과 분기 / 전체 분기 수


### 커버리지 지표에 관한 문제점 : 테스트 스위트의 품질을 결정할 수 없다. 
- 테스트 대상 시스템의 모든 가능한 결과를 검증한다고 보장할 수 없다.
- 외부 라이브러리의 코드 경로를 고려할 수 있는 커버리지 지표는 없다.
- 테스트로부터 숨어있는 분기가 많음 : 수많은 예외 상황에 빠질 수 있지만 테스트에서 모든 예외 상황을 다루는지 확인할 방법이 없다.



## 1.4 무엇이 성공적인 테스트 스위트를 만드는가? 
### 1.4.1 개발 주기에 통합돼 있다.
(이상적 목표) 코드가 변경될 때마다 아무리 작은 것이라도 실행해라 

### 1.4.2 코드베이스에서 가장 중요한 부분만을 대상으로 한다.

- 가장 중요한 부분 = 비지니스 로직(도메인 모델)
- 도메인 모델을 코드 베이스 중 중요하지 않은 부분과 분리하여 단위 테스트에 대한 노력을 집중시키자.


### 1.4.3 최소한의 유지비로 최대의 가치를 끌어낸다. 
- 가치 있는 테스트 ( + 가치가 낮은 테스트 ) 식별하기 : 기준틀이 필요 
- 가치 있는 테스트 작성하기 : 코드 설계 기술 필요

