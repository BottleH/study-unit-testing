# 7. 가치 있는 단위 테스트를 위한 리팩토링

## 7.3 최적의 단위 테스트 커버리지 분석
- 비즈니스 로직과 오케스트레이션을 완전히 분리하면 코드베이스의 어느 부분을 테스트 단위로 할지 쉽게 결정할 수 있다.


## 7.4 컨트롤러에서 조건부 로직 처리
- 육각형 아키텍처와 함수형 아키텍처는 프로세스 외부 의존성에 대한 모든 참조가 비즈니스 연산의 가장자리로 밀려났을 때 가장 효과적이다.

### 7.4.1 CanExecute/Execute 패턴 사용 
[참고링크](https://alexalvess.medium.com/design-patterns-command-e3a8fe658026) 

(결론 도출 과정 생략)
- `canExecute()` 를 먼저 호출 후 `Execute()` 를 사용하는 패턴
- `canExecute()` 로 모든 유효성 검사를 캡슐화 시킴
- 도메인 계층의 모든 결정을 통합할 수 있다. 


