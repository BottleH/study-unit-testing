# [Unit Testing] 4장 좋은 단위 테스트의 4대요소
1. 회귀 방지
2. 리팩터링 내성
3. 빠른 피드백
4. 유지 보수성
<br><br>
- 각 테스트의 점수가 1인경우 이상적인테스트 곱셈의 영역


4.4 이상적인 테스트를 찾아서
- 엔드 투  엔드 테스트
  - 회귀 방지 좋다
    - 많은양의 코드를 테스트 하기떄문에
  - 리팩터링 내성 우수
    - 최종 사용자의 관점에서 기능이 어떻게 동작하는지 만 봄 , 구현세부사항 최대한제거
  - 느린 피드백(속도가 느리다)
- 간단한 테스트
  - 빠른피드백
  - 리팩터링 내성 우수
    - 거짓양성이 생길 가능성이 상당히 낮기 때문에
    - 하지만 너무 간단한 테스트이기 때문에 의미없는 검증이 생길수있다.
- 깨지기 쉬운 테스트
  - 빠르게 실행되고 회귀방지를 훌륭히 내지만 리팩터링 내성이없다.
    - SUT 의 구현내부 사항과 결합이 되어있기 때문에
- 결론
  - 좋은테스트를 만드는 특성간에 균형을 이뤄내는 것은 쉽지않다. 점수를 최대로 낼수 없어
  세가지 범주에서 절충해야한다.
  - 하지만 리팩터링 내성을 최대한 많이 갖는 것을 목표로 한다.
    - 이 특성은 갖고있는지 없는지 이진선택이기 떄문에 
  - 회귀방지 (테스트가 얼마나 버그를 잘찾는지) 와 빠른 피드백(얼마나 빠른지) 사이의 선택

4.5 대중적인 테스트 자동화 개념 살펴보기

- 4.5.1 테스트 피라미드 분해
- 테스트 스위트에서 테스트 유형 간의 일정한 비율을 일컫는 개념
- ![img](https://user-images.githubusercontent.com/58027908/224529474-e5cee980-adb0-40f5-a532-ebd589800ff5.png)
  - 층의 높이는 테스트가 최종사용자의 동작을 얼마나 유사하게 흉내내는지 
  - 층의 넓이는 테스트의 수
  - 회귀 방지와 빠른피드백 사이의 선택 상단일수록 회귀방지에 유리, 하단은 실행속도 강조
  - 어느 계층도 리팩토링 내성을 포기 하지 않는다.
    - 모든 테스트는 거짓 양성을 가능한 적게 하는것을 목표
  - 엔드 투 엔드 테스트가 가장적어야한다.
    - 느린피드백으로 유지보수성 결여
- 4.5.2 블랙박스 테스트와 화이트박스 테스트 간의 선택
  - 블랙박스 테스트 (회귀 방지 나쁨, 리팩터링 내성 좋음)
    - 시스템의 내부 구조를 몰라도 시스템의 기능을 검사할수 있는 방법
    - 명세나 요구사항, 애플리케이션이 무엇을 해야하는지를 중심으로 구축
    - 테스트 선택시 블랙박스 테스트를 기본으로 선택 (화이트 테스트와 정반대 장단점 제공)
  - 화이트박스 테스트(회귀 방지 좋음, 리팩터링 내성 나쁨)
    - 애플리케이션의 내부 작업을 검증하는 테스트 방식
    - 요구사항,명세가 아니라 소스코드에서 파생
    - 소스코드에서 파생하기때문에 놓칠수 있는 많은 오류를 발견
    - 하지만 소스코드(구현 내부사항)과 결합되어있어 깨지기 쉽다.
    - 거짓양성이 많아 리팩터링 내성이 부족하다.
    - 소스코드를 분석하기에는 좋다.
  - 둘의 조합이 가장 효과적이다.
